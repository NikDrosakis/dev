{"ast":null,"code":"import React,{useState,useEffect,useContext}from'react';import{Container,Row,Button}from'react-bootstrap';import{ThemeContext}from'styled-components';import Fade from'react-reveal/Fade';import Header from'./Header';import endpoints from'../constants/endpoints';import ProjectCard from'./projects/ProjectCard';import FallbackSpinner from'./FallbackSpinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const styles={containerStyle:{marginBottom:25},showMoreStyle:{margin:25}};const Projects=props=>{var _data$projects;const theme=useContext(ThemeContext);const{header}=props;const[data,setData]=useState(null);const[showMore,setShowMore]=useState(false);useEffect(()=>{fetch(process.env.REACT_APP_HTTP_API+endpoints.projects,{method:'GET'}).then(res=>res.json()).then(res=>setData(res)).catch(err=>err);},[]);const numberOfItems=showMore&&data?data.length:6;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{title:header}),data?/*#__PURE__*/_jsx(\"div\",{className:\"section-content-container\",children:/*#__PURE__*/_jsxs(Container,{style:styles.containerStyle,children:[/*#__PURE__*/_jsx(Row,{xs:1,sm:1,md:2,lg:3,className:\"g-4\",children:(_data$projects=data.projects)===null||_data$projects===void 0?void 0:_data$projects.slice(0,numberOfItems).map(project=>/*#__PURE__*/_jsx(Fade,{children:/*#__PURE__*/_jsx(ProjectCard,{project:project})},project.title))}),!showMore&&/*#__PURE__*/_jsx(Button,{style:styles.showMoreStyle,variant:theme.bsSecondaryVariant,onClick:()=>setShowMore(true),children:\"show more\"})]})}):/*#__PURE__*/_jsx(FallbackSpinner,{})]});};export default Projects;","map":{"version":3,"names":["React","useState","useEffect","useContext","Container","Row","Button","ThemeContext","Fade","Header","endpoints","ProjectCard","FallbackSpinner","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","styles","containerStyle","marginBottom","showMoreStyle","margin","Projects","props","_data$projects","theme","header","data","setData","showMore","setShowMore","fetch","process","env","REACT_APP_HTTP_API","projects","method","then","res","json","catch","err","numberOfItems","length","children","title","className","style","xs","sm","md","lg","slice","map","project","variant","bsSecondaryVariant","onClick"],"sources":["/var/www/nikosdrosakis.gr/dev/frontend/src/components/Projects.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Container, Row, Button } from 'react-bootstrap';\nimport { ThemeContext } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport Fade from 'react-reveal/Fade';\nimport Header from './Header';\nimport endpoints from '../constants/endpoints';\nimport ProjectCard from './projects/ProjectCard';\nimport FallbackSpinner from './FallbackSpinner';\n\nconst styles = {\n  containerStyle: {\n    marginBottom: 25,\n  },\n  showMoreStyle: {\n    margin: 25,\n  },\n};\n\nconst Projects = (props) => {\n  const theme = useContext(ThemeContext);\n  const { header } = props;\n  const [data, setData] = useState(null);\n  const [showMore, setShowMore] = useState(false);\n\n  useEffect(() => {\n    fetch(process.env.REACT_APP_HTTP_API+endpoints.projects, {\n      method: 'GET',\n    })\n      .then((res) => res.json())\n      .then((res) => setData(res))\n      .catch((err) => err);\n  }, []);\n  const numberOfItems = showMore && data ? data.length : 6;\n  return (\n    <>\n      <Header title={header} />\n      {data\n        ? (\n          <div className=\"section-content-container\">\n            <Container style={styles.containerStyle}>\n              <Row xs={1} sm={1} md={2} lg={3} className=\"g-4\">\n                {data.projects?.slice(0, numberOfItems).map((project) => (\n                  <Fade key={project.title}>\n                    <ProjectCard project={project} />\n                  </Fade>\n                ))}\n              </Row>\n\n              {!showMore\n                && (\n                <Button\n                  style={styles.showMoreStyle}\n                  variant={theme.bsSecondaryVariant}\n                  onClick={() => setShowMore(true)}\n                >\n                  show more\n                </Button>\n                )}\n            </Container>\n          </div>\n        ) : <FallbackSpinner /> }\n    </>\n  );\n};\n\nProjects.propTypes = {\n  header: PropTypes.string.isRequired,\n};\n\nexport default Projects;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}